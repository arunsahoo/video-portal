<section ng-controller="videoController">
	<ul id="videos" class="module-wrapper row row-eq-height" infinite-scroll='loadMore()' infinite-scroll-distance='1'>
		<li ng-repeat="video in allVideos" class="items col-xs-2 vid-item">
			<h5 ng-click="callVideo(video._id)" >{{ video.name | removeArrayinTitle | limitTo: 22 }}{{video.name.length > 22 ? '...' : ''}}</h5>
			<video src='{{video.url}}' width="100%" height="120" ng-click="pauseOrPlay()" controls="">
				<source src='{{video.url}}' type="video/mp4">
					Your browser does not support the video tag.
				</video> 
			<div ng-controller="ratingController">
				<div ng-init="0"></div>

				<div class="star-rating" star-rating rating-value="rating || calculateAverageRating(video.ratings)" data-max="5" on-rating-selected="rateFunction(video._id, rating)"></div>
			</div>
				<br>
				<div class="desc">
					{{ video.description | limitTo: 80 }}{{video.description.length > 80 ? ' ...' : ''}}
				</div>
			</li>
		</ul>
</section>